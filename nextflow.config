// Version of the pipeline as a whole
params.mcmicroVersion = '2020-04-07'

// Versions of individual modules
params.illumVersion   = '1.0.0'
params.ashlarVersion  = '1.11.1'
params.unmicstVersion = '1.0.0'
params.s3segVersion   = '0.2.1'
params.quantVersion   = '1.1.2'

// Default parameters for individual modules
params.ashlarOpts  = '-m 30 --pyramid'
params.unmicstOpts = ''
params.s3segOpts   = ''
params.quantOpts   = ''

// Platform-specific profiles
profiles {

  // Default profile, best suited for local runs
  standard {includeConfig 'config/standard.config'}

  // Profile specific to the HMS compute cluster
  O2 {
    includeConfig 'config/O2base.config'

    process{
      queue = 'short'
      withName:illumination   {clusterOptions = '-t 1:00:00 --mem=16000'}
      withName:dearray        {clusterOptions = '-t 1:00:00 -c 4 --mem=16000'}
      withName:ashlar         {clusterOptions = '-t 1:00:00 --mem=16000'}
      withName:unmicst        {clusterOptions = '-t 1:00:00 --mem=4000'}
      withName:s3seg          {clusterOptions = '-t 1:00:00 --mem=4000'}
      withName:quantification {clusterOptions = '-t 1:00:00 --mem=16000'}
    }
  }

  // Same as O2 but with higher resource requirements
  O2large {
    includeConfig 'config/O2base.config'
    
    process {
      queue = 'short'
      withName:illumination   {clusterOptions = '-t 1:00:00 --mem=16000'}
      withName:dearray        {clusterOptions = '-t 1:00:00 -c 10 --mem=64000'}
      withName:ashlar         {clusterOptions = '-t 6:00:00 --mem=64000'}
      withName:unmicst        {clusterOptions = '-t 12:00:00 --mem=128000'}
      withName:s3seg          {clusterOptions = '-t 12:00:00 --mem=128000'}
      withName:quantification {clusterOptions = '-t 12:00:00 --mem=128000'}
    }	    
  }
}
